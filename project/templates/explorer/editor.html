{% extends "base.html" %}

{% block extrahead %}
    <link rel="stylesheet" href="{{STATIC_URL}}css/toolbar.css" type="text/css" />
    <script src="{{STATIC_URL}}js/jquery.lazyload.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{STATIC_URL}}js/codemirror/codemirror.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{STATIC_URL}}js/jquery.autoscroll.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{STATIC_URL}}js/jquery.wtooltip.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{STATIC_URL}}js/jquery.hpanel.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{STATIC_URL}}js/jquery.json.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{STATIC_URL}}js/jquery.cookie.js" type="text/javascript" charset="utf-8"></script>
    <script src="{{STATIC_URL}}js/editor.js" type="text/javascript" charset="utf-8"></script>

{% endblock extrahead %}

{% block extrabody %}
    <script type="text/javascript" charset="utf-8">
    $(function() {
        {% for scriptlet in scriptlets %}
        editor.registerScriptlet("{{scriptlet.name}}",
            function(editor, panel, params) {
                {{ scriptlet.code|safe }}
            });
        {% endfor %}
     });  
    </script>
{% endblock extrabody %}

{% block breadcrumbs %}<a href="{% url file_list %}">Platforma Redakcyjna</a> ❯ plik {{ hash }}{% endblock breadcrumbs %}

{% block header-toolbar %}
	<button type="button" class="toolbar-button" id="toolbar-button-commit">Commit</button>
	<button type="button" class="toolbar-button" id="toolbar-button-save" disabled="disabled">Zapisz</button>
{% endblock %}

{% block message-box %}
    <div class="msg-success" id="save-successful"><p>Zapisano :)</p><p class="data" /></div>
    <div class="msg-error" id="save-error"><p>Błąd przy zapisie.</p> <p class="data" /></div>
    <div class="msg-warning" id="not-implemented"><p>Tej funkcji jeszcze nie ma :(</p><p class="data" /></div>
{% endblock %}

{% block maincontent %}
        <div id="panels">
            {% for n in panel_list %}
            <div class="panel-wrap{% if forloop.last %} last-panel{% endif %}" id="panel-{{n}}">
                <div class="panel-toolbar">
                    <label for="select-{{n}}-panel">{{n|capfirst}} panel:</label>
                    <select name="select-{{n}}-panel" id="panel-{{n}}-select">
                        <option value="{% url xmleditor_panel hash %}" name="xmleditor">Edytor XML</option>
                        <option value="{% url htmleditor_panel hash %}" name="htmleditor">Edytor HTML</option>
                        <option value="{% url gallery_panel hash %}" name="gallery">Galeria skanów</option>
                        <option value="{% url dceditor_panel hash %}" name="dceditor">Edytor DublinCore</option>
                    </select>
                    <button type="button" class="refresh-button">Odśwież</button>
                    <strong class="change-notification" style="display: none">Widok nieaktualny!</strong>
               </div>
               <div id="panel-{{n}}-content" class="panel-content"></div>
               <button type="button" class="panel-slider"></button>
            </div>
            {% endfor %}
        </div>
{% endblock maincontent %}    
